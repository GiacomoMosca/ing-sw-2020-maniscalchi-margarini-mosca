


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: LimusController</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">it.polimi.ingsw.controller.turn_controllers</a> ]
</div>

<h1>Coverage Summary for Class: LimusController (it.polimi.ingsw.controller.turn_controllers)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">LimusController</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/ 1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/ 3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (14/ 14)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;package it.polimi.ingsw.controller.turn_controllers;
<i>2</i>&nbsp;
<i>3</i>&nbsp;import it.polimi.ingsw.controller.GameController;
<i>4</i>&nbsp;import it.polimi.ingsw.model.cards.Card;
<i>5</i>&nbsp;import it.polimi.ingsw.model.game_board.Cell;
<i>6</i>&nbsp;
<i>7</i>&nbsp;import java.util.ArrayList;
<i>8</i>&nbsp;
<i>9</i>&nbsp;/**
<i>10</i>&nbsp; * Extension of the GodController class that modifies the turn according to Limus&#39;s God Power.
<i>11</i>&nbsp; */
<i>12</i>&nbsp;public class LimusController extends GodController {
<i>13</i>&nbsp;
<i>14</i>&nbsp;    /**
<i>15</i>&nbsp;     * LimusController constructor.
<i>16</i>&nbsp;     *
<i>17</i>&nbsp;     * @param gameController the GameController for this Game
<i>18</i>&nbsp;     */
<i>19</i>&nbsp;    public LimusController(GameController gameController) {
<b class="fc"><i>20</i>&nbsp;        super(gameController);</b>
<b class="fc"><i>21</i>&nbsp;    }</b>
<i>22</i>&nbsp;
<i>23</i>&nbsp;    /**
<i>24</i>&nbsp;     * Sets all the attributes of the God Card Limus to their actual values.
<i>25</i>&nbsp;     *
<i>26</i>&nbsp;     * @return the complete Card
<i>27</i>&nbsp;     */
<i>28</i>&nbsp;    @Override
<i>29</i>&nbsp;    public Card generateCard() {
<b class="fc"><i>30</i>&nbsp;        Card card = new Card(</b>
<i>31</i>&nbsp;                &quot;Limus&quot;,
<i>32</i>&nbsp;                &quot;Goddess of Famine&quot;,
<i>33</i>&nbsp;                &quot;Opponent’s Turn: Opponent Workers cannot build on spaces neighboring &quot; +
<i>34</i>&nbsp;                        &quot;\nyour Workers, unless building a dome to create a Complete Tower.&quot;,
<i>35</i>&nbsp;                2,
<i>36</i>&nbsp;                true,
<i>37</i>&nbsp;                this
<i>38</i>&nbsp;        );
<b class="fc"><i>39</i>&nbsp;        this.card = card;</b>
<b class="fc"><i>40</i>&nbsp;        return card;</b>
<i>41</i>&nbsp;    }
<i>42</i>&nbsp;
<i>43</i>&nbsp;    /**
<i>44</i>&nbsp;     * Applies Limus God Power. Gets an ArrayList containing all the Cells where an opponent Worker can build and creates another ArrayList, removing from the first one all the Cells neighboring the Limus Worker (unless the opponents can build there a dome to create a Complete Tower).
<i>45</i>&nbsp;     *
<i>46</i>&nbsp;     * @param workerPosition the position of the Worker
<i>47</i>&nbsp;     * @param possibleBuilds all the Cells where the Worker is able to build, considering only the game restrictions
<i>48</i>&nbsp;     * @return an ArrayList containing all the Cells where the Worker is actually able to build
<i>49</i>&nbsp;     */
<i>50</i>&nbsp;    @Override
<i>51</i>&nbsp;    ArrayList&lt;Cell&gt; limitBuilds(Cell workerPosition, ArrayList&lt;Cell&gt; possibleBuilds) {
<i>52</i>&nbsp;        // + opponents can only build Complete Towers next to your workers
<b class="fc"><i>53</i>&nbsp;        ArrayList&lt;Cell&gt; limitedBuilds = new ArrayList&lt;Cell&gt;();</b>
<i>54</i>&nbsp;        LABEL:
<b class="fc"><i>55</i>&nbsp;        for (Cell cell : possibleBuilds) {</b>
<b class="fc"><i>56</i>&nbsp;            for (Cell neighborCell : board.getNeighbors(cell)) {</b>
<b class="fc"><i>57</i>&nbsp;                if (neighborCell.hasWorker() &amp;&amp; neighborCell.getWorker().getOwner() == player &amp;&amp; cell.getBuildLevel() &lt; 3)</b>
<b class="fc"><i>58</i>&nbsp;                    continue LABEL;</b>
<b class="fc"><i>59</i>&nbsp;            }</b>
<b class="fc"><i>60</i>&nbsp;            limitedBuilds.add(cell);</b>
<b class="fc"><i>61</i>&nbsp;        }</b>
<b class="fc"><i>62</i>&nbsp;        return limitedBuilds;</b>
<i>63</i>&nbsp;        //
<i>64</i>&nbsp;    }
<i>65</i>&nbsp;
<i>66</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2020-07-02 14:56</div>
</div>
</body>
</html>
